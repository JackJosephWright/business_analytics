"0","#function for turning python dictionary to a R dataframe"
"0",""
"0",""
"0","dict_to_df = function(dict) {"
"0","  "
"0","  require(plyr)"
"0","  df = data.frame()"
"0","  df_temp = list()"
"0","  store = list()"
"0","  "
"0","  for (i in 1:length(dict)) {"
"0",""
"0","    # Split up the dictionary entry"
"0","    split = unlist(strsplit(dict[i], '\"",'))"
"0","    split = gsub('\\{', '', split)"
"0","    split = gsub('\\}', '', split)"
"0","    values = unlist(strsplit(split, ':'))"
"0",""
"0","    # Parse out what will be the df headers"
"0","    headers = values[seq(1, length(values), 2)]       "
"0","    headers = gsub('\""', '', headers) # Remove quotes"
"0","    headers = gsub(' ', '', headers)  # and whitespace"
"0",""
"0","    # Parse out what will be the df values"
"0","    row_values = values[seq(0, length(values), 2)]"
"0","    row_values = gsub('\""', '', row_values) # Remove quotes"
"0","    row_values = gsub(' ', '', row_values)  # and whitespace"
"0",""
"0","    # Construct a dataframe with 1 row"
"0","    out = data.frame(t(row_values))"
"0","    colnames(out) = headers"
"0",""
"0","    store[i] = list(out)"
"0",""
"0","    if (i %% 1000 == 0) { print(round(i / length(dict), 2)) }"
"0",""
"0","  }"
"0",""
"0","    # rbind all the dataframes together into one dataframe "
"0","    list_length = length(store)"
"0","    "
"0","    # If the dictionary is sufficiently large rbind will be slow"
"0","    # as all hell, so break the rbinding into multiple steps"
"0","    if (list_length >= 3000) {"
"0",""
"0","      no_splits = round(list_length / 500)"
"0","      chunks = split(store, 1:no_splits)"
"0",""
"0","      for (j in 1:no_splits) {"
"0",""
"0","        df_temp[j] = list(rbind.fill(chunks[[j]]))"
"0","        "
"0","      }"
"0","      df = rbind.fill(df_temp)"
"0","      return(df)"
"0","    }"
"0",""
"0","    else {"
"0",""
"0","      df = rbind.fill(store)"
"0","      return(df)"
"0","    }"
"0",""
"0","}"
"0",""
